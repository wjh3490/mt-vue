(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["food"],{"09a4":function(t,e,n){"use strict";var i=n("c02b"),s=n.n(i);s.a},"1ba1":function(t,e,n){"use strict";var i=n("7406"),s=n.n(i);s.a},"26c1":function(t,e,n){"use strict";var i=n("e8c5"),s=n.n(i);s.a},3911:function(t,e,n){(function(n){var i,s,a=a||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e,n){if(0===t.length)return!1;var i=0;e=void 0!==e?e:a.now();while(i<t.length)t[i].update(e)||n?i++:t.splice(i,1);return!0}}}();"undefined"===typeof window&&"undefined"!==typeof n?a.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?a.now=window.performance.now.bind(window.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(t){var e,n=t,i={},s={},o={},r=1e3,c=0,u=!1,l=!1,f=!1,d=0,h=null,p=a.Easing.Linear.None,v=a.Interpolation.Linear,m=[],w=null,g=!1,C=null,_=null,I=null;this.to=function(t,e){return s=t,void 0!==e&&(r=e),this},this.start=function(t){for(var e in a.add(this),l=!0,g=!1,h=void 0!==t?t:a.now(),h+=d,s){if(s[e]instanceof Array){if(0===s[e].length)continue;s[e]=[n[e]].concat(s[e])}void 0!==n[e]&&(i[e]=n[e],i[e]instanceof Array===!1&&(i[e]*=1),o[e]=i[e]||0)}return this},this.stop=function(){return l?(a.remove(this),l=!1,null!==I&&I.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+r),this},this.stopChainedTweens=function(){for(var t=0,e=m.length;t<e;t++)m[t].stop()},this.delay=function(t){return d=t,this},this.repeat=function(t){return c=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return u=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return v=t,this},this.chain=function(){return m=arguments,this},this.onStart=function(t){return w=t,this},this.onUpdate=function(t){return C=t,this},this.onComplete=function(t){return _=t,this},this.onStop=function(t){return I=t,this},this.update=function(t){var a,l,I;if(t<h)return!0;for(a in!1===g&&(null!==w&&w.call(n,n),g=!0),l=(t-h)/r,l=l>1?1:l,I=p(l),s)if(void 0!==i[a]){var y=i[a]||0,P=s[a];P instanceof Array?n[a]=v(P,I):("string"===typeof P&&(P="+"===P.charAt(0)||"-"===P.charAt(0)?y+parseFloat(P):parseFloat(P)),"number"===typeof P&&(n[a]=y+(P-y)*I))}if(null!==C&&C.call(n,I),1===l){if(c>0){for(a in isFinite(c)&&c--,o){if("string"===typeof s[a]&&(o[a]=o[a]+parseFloat(s[a])),u){var D=o[a];o[a]=s[a],s[a]=D}i[a]=o[a]}return u&&(f=!f),h=void 0!==e?t+e:t+d,!0}null!==_&&_.call(n,n);for(var N=0,b=m.length;N<b;N++)m[N].start(h+r);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,s=Math.floor(i),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[s],t[s+1>n?n:s+1],i-s)},Bezier:function(t,e){for(var n=0,i=t.length-1,s=Math.pow,o=a.Interpolation.Utils.Bernstein,r=0;r<=i;r++)n+=s(1-e,i-r)*s(e,r)*t[r]*o(i,r);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,s=Math.floor(i),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(s=Math.floor(i=n*(1+e))),o(t[(s-1+n)%n],t[s],t[(s+1)%n],t[(s+2)%n],i-s)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[s?s-1:0],t[s],t[n<s+1?n:s+1],t[n<s+2?n:s+2],i-s)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}}(),CatmullRom:function(t,e,n,i,s){var a=.5*(n-t),o=.5*(i-e),r=s*s,c=s*r;return(2*e-2*n+a+o)*c+(-3*e+3*n-2*a-o)*r+a*s+e}}},function(n){i=[],s=function(){return a}.apply(e,i),void 0===s||(t.exports=s)}()}).call(this,n("4362"))},7406:function(t,e,n){},8771:function(t,e,n){"use strict";var i=n("f75c"),s=n.n(i);s.a},c02b:function(t,e,n){},e8c5:function(t,e,n){},f266:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"food"},[n("div",{staticClass:"main"},[n("div",{staticClass:"left"},[n("ul",t._l(t.categoryList,(function(e,i){return n("li",{key:i,class:{scrollActive:t.id===i},on:{click:function(e){return t.scrollToElement(t.scrollHeights[i],i)}}},[0===i?n("img",{attrs:{src:e.iconUrl,alt:""}}):t._e(),n("span",[t._v(t._s(e.categoryName))]),t.typeNum[e.tag]?n("div",{staticClass:"num",class:{m:t.typeNum[e.tag]>=10,g:t.typeNum[e.tag]>99}},[t._v(" "+t._s(t._f("filterNum")(t.typeNum[e.tag]))+" ")]):t._e()])})),0)]),n("div",{staticClass:"food-right"},[n("ul",{ref:"out",staticClass:"out",on:{scroll:t.handleScroll}},t._l(t.categoryList,(function(e,i){return n("li",{key:i,ref:"scrollItem",refInFor:!0,staticClass:"li",class:{paddingt:0===i}},[n("h3",{staticClass:"title"},[t._v(" "+t._s(e.categoryName)+" ")]),t._l(e.spuList,(function(i,s){return n("ul",{key:s,staticClass:"inner"},[n("li",{on:{click:function(){t.foodDetails=i,t.showDetails1=!0}}},[n("div",{staticClass:"pic"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.bigImageUrl,expression:"item1.bigImageUrl"}],attrs:{alt:""}})]),n("div",{staticClass:"des"},[n("div",{staticClass:"p1"},[t._v(t._s(i.spuName))]),n("div",{staticClass:"p2"},[t._v(t._s(i.spuDesc))]),t._m(0,!0),n("div",{staticClass:"price"},[n("span",{staticClass:"current"},[t._v("¥"+t._s(i.currentPrice))]),n("span",{directives:[{name:"show",rawName:"v-show",value:i.currentPrice!==i.originPrice,expression:"item1.currentPrice !== item1.originPrice"}],staticClass:"old"},[t._v("¥"+t._s(i.originPrice))]),n("count",{attrs:{currentPrice:i.currentPrice,originPrice:i.originPrice,spuId:i.spuId,tag:e.tag,spuName:i.spuName}})],1),n("div",{staticClass:"discount"},t._l(i.skuList,(function(e,i){return n("span",{directives:[{name:"show",rawName:"v-show",value:e.skuPromotionInfo,expression:"item2.skuPromotionInfo"}],key:i},[t._v(t._s(e.skuPromotionInfo))])})),0)])])])}))],2)})),0)])]),n("cart",{attrs:{deliveryFee:t.deliveryFee}}),n("detail",{attrs:{foodDetails:t.foodDetails,showDetails1:t.showDetails1}},[n("div",{staticClass:"close",on:{click:function(e){t.showDetails1=!1}}})])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"num"},[n("span",[t._v("月售 100")]),n("span",[t._v("赞 100")])])}],a=(n("96cf"),n("1da1")),o=n("5530"),r=n("2f62"),c=n("3911"),u=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn clearfix"},[t.count1[t.spuId]?n("div",{staticClass:"left fl"},[n("span",{staticClass:"del",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.commit("delCart",{spuId:t.spuId})}}}),n("span",{ref:"span",staticClass:"center fr"},[t._v(t._s(t.count1[t.spuId]))])]):t._e(),n("span",{staticClass:"add",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$store.commit("addCart",{currentPrice:t.currentPrice,originPrice:t.originPrice,spuId:t.spuId,tag:t.tag,spuName:t.spuName})}}})])},f=[],d=(n("a9e3"),{name:"Count",props:{currentPrice:{type:Number},originPrice:{type:Number},spuId:{type:Number},tag:{type:String},spuName:{type:String}},computed:Object(o["a"])({},Object(r["b"])(["count1"]))}),h=d,p=(n("1ba1"),n("2877")),v=Object(p["a"])(h,l,f,!1,null,"dce731fc",null),m=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"shopcart"},[n("div",{staticClass:"shopcart-left",on:{click:t.isShowCart}},[n("div",{staticClass:"cart"},[n("div",{staticClass:"icon",class:t.cartBgc}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount,expression:"totalCount"}],staticClass:"count",class:{m:t.totalCount>=10,g:t.totalCount>99}},[t._v(" "+t._s(t._f("filterNum")(t.totalCount))+" ")])]),n("div",{staticClass:"delivery-price"},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.totalCount,expression:"totalCount"}],staticClass:"total"},[n("span",[t._v("¥")]),t._v(" "+t._s(t.totalPrice.currentTotalPrice)+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.totalPrice.oldTotalPrice!==t.totalPrice.currentTotalPrice&&t.totalCount,expression:"\n              totalPrice.oldTotalPrice !== totalPrice.currentTotalPrice &&\n                totalCount\n            "}],staticClass:"old"},[t._v("¥"+t._s(t.totalPrice.oldTotalPrice))])]),n("p",{staticClass:"delivet",class:{"count-active":t.totalCount}},[t._v(" 另需配送费¥"+t._s(t.deliveryFee)+" ")])])]),n("div",{staticClass:"shopcart-right",style:{backgroundColor:t.payStatus.bgcColor,color:t.totalPrice.currentTotalPrice>=20?"#000":""}},[n("span",[t._v(t._s(t.payStatus.payStatus))])])]),n("transition",{attrs:{name:"fold"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list"},[n("header",[n("span",{staticClass:"list-cart"},[t._v("购物车")]),n("span",{staticClass:"empty fr",on:{click:t.emptyCart}},[t._v("清空")])]),n("div",{staticClass:"cart-list"},[n("ul",t._l(t.selectFoods,(function(e,i){return n("li",{key:i},[n("div",{staticClass:"food-name"},[n("div",{staticClass:"food-item"},[t._v(t._s(e.spuName))]),n("div",{staticClass:"food-price"},[t._v(" ¥"+t._s((e.currentPrice*e.count).toFixed(2))+" ")])]),n("div",{staticClass:"foodnum"},[n("Count",{attrs:{currentPrice:e.currentPrice,originPrice:e.originPrice,spuId:e.spuId,tag:e.tag,spuName:e.spuName}})],1)])})),0)])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"shop-mask",on:{click:function(e){t.isShowCartList=!0}}})],1)},g=[],C={name:"Cart",components:{Count:m},props:{deliveryFee:{type:Number}},data:function(){return{isShowCartList:!0}},computed:Object(o["a"])(Object(o["a"])({listShow:function(){return!!this.totalCount&&!this.isShowCartList}},Object(r["b"])(["totalPrice","totalCount","cartBgc","payStatus","count1"])),Object(r["c"])(["selectFoods"])),methods:{emptyCart:function(){this.$store.commit("sEmptyCart"),this.isShowCartList=!1},isShowCart:function(){this.totalCount&&(this.isShowCartList=!this.isShowCartList)}}},_=C,I=(n("09a4"),Object(p["a"])(_,w,g,!1,null,"126033c3",null)),y=I.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"scale"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetails1,expression:"showDetails1"}],key:t.foodDetails.spuId,staticClass:"details"},[n("div",{staticClass:"details-item"},[n("div",{staticClass:"details-top"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.foodDetails.bigImageUrl,expression:"foodDetails.bigImageUrl"}]})]),n("div",{staticClass:"details-foot"},[n("div",{staticClass:"detail-desc"},[n("p",[t._v(t._s(t.foodDetails.spuName))]),n("div",{staticClass:"num"},[n("span",{staticClass:"month"},[t._v("月售"+t._s(t.foodDetails.saleVolume))]),n("span",[t._v("赞"+t._s(t.foodDetails.praiseNum))])]),n("div",{staticClass:"spuDesc"},[t._v(t._s(t.foodDetails.spuDesc))])]),n("div",{staticClass:"details-price"},[n("div",{staticClass:"price"},[n("div",{staticClass:"left"},[t._v("¥"+t._s(t.foodDetails.currentPrice))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.count1[t.foodDetails.spuId],expression:"!count1[foodDetails.spuId]"}],staticClass:"right",on:{click:t.toggleStatus}},[t._v(" 加入购物车 ")]),n("Count",{directives:[{name:"show",rawName:"v-show",value:t.count1[t.foodDetails.spuId],expression:"count1[foodDetails.spuId]"}],attrs:{currentPrice:t.foodDetails.currentPrice,originPrice:t.foodDetails.originPrice,spuId:t.foodDetails.spuId,tag:t.foodDetails.tag,spuName:t.foodDetails.spuName}})],1)]),t._t("default")],2)])])])},D=[],N={name:"Detail",components:{Count:m},props:{foodDetails:{type:Object},showDetails1:{type:Boolean}},data:function(){return{toggleShow:!1}},computed:Object(o["a"])({},Object(r["b"])(["count1"])),methods:{toggleStatus:function(){this.$store.commit("addCart",{currentPrice:this.foodDetails.currentPrice,originPrice:this.foodDetails.originPrice,spuId:this.foodDetails.spuId,tag:this.foodDetails.tag,spuName:this.foodDetails.spuName}),this.toggleShow=!this.toggleShow}}},b=N,O=(n("8771"),Object(p["a"])(b,P,D,!1,null,"63f8e7c0",null)),M=O.exports,S={name:"Food",components:{Count:m,Cart:y,Detail:M},data:function(){return{categoryList:[],scrollHeights:[],scrollY:0,foodDetails:{},showDetails1:!1,deliveryFee:0,diff:-1,id:0,a:!1}},computed:Object(o["a"])({},Object(r["b"])(["typeNum"])),watch:{},created:function(){this.getFoodList()},activated:function(){this.$refs.out.scrollTop=this.scrollY},mounted:function(){this.tweenAni()},methods:{tweenAni:function(){requestAnimationFrame(this.tweenAni),u.a.update()},tween:function(t){var e=this,n={y:0};new u.a.Tween(n).to({y:t},600).easing(u.a.Easing.Elastic.InOut).onUpdate((function(){e.$refs.out.scrollTop=t})).start()},update:function(){},getFoodList:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios("//localhost:3001/getFood");case 2:n=e.sent,i=n.status,s=n.data.data,200===i&&(console.log(s),t.categoryList=s.data.categoryList,t.deliveryFee=s.data.shopInfo.deliveryFee,t.$store.commit("setMinFee",s.data.shopInfo.minFee)),t.$nextTick((function(){t.getScroll()}));case 7:case"end":return e.stop()}}),e)})))()},scrollIndex:function(){for(var t=this.scrollHeights,e=0;e<t.length;e++){var n=t[e],i=t[e+1];if(!i||this.scrollY>=n&&this.scrollY<i)return e}return 0},getScroll:function(){var t=0,e=this.$refs.scrollItem;this.scrollHeights.push(t);for(var n=0;n<e.length;n++)t+=e[n].clientHeight,this.scrollHeights.push(t)},handleScroll:function(t){this.scrollY=Math.abs(Math.round(t.target.scrollTop)),this.a||(this.id=this.scrollIndex()),this.a=!1},scrollToElement:function(t,e){this.tween(t),this.id=e,this.a=!0}}},x=S,k=(n("26c1"),Object(p["a"])(x,i,s,!1,null,"54f8a167",null));e["default"]=k.exports},f75c:function(t,e,n){}}]);